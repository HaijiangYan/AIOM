# AIOM - All-in-One Methods

**AIOM** (All-in-One Methods) is a comprehensive Node.js toolbox designed to streamline the creation, deployment, and management of online behavioral experiments, particularly for multi-task. Whether you're a researcher, developer, or institution, AIOM provides everything you need to run sophisticated web-based experiments.

## 🎯 What is AIOM?

AIOM simplifies the complex process of online experimentation by providing:

- **Experiment Builder**: Create complex behavioral experiments with simple APIs
- **Deployment Tools**: One-click deployment to various platforms
- **Data Management**: Automated data collection, storage, and export
- **Participant Management**: Handle recruitment, scheduling, and compensation
- **Real-time Monitoring**: Track experiment progress and participant engagement
- **Analysis Pipeline**: Built-in tools for data preprocessing and basic analysis

## 🚀 Quick Start

Firstly, make sure you have node>=16 installed:

```bash
node -v
# or
nvm list  # if you have nvm installed on your machine
```

Get your first experiment running in minutes:

```bash
npx aiom help  # see basic usage. This line grabs the newest version of aiom temporally
npx aiom create  # build new study
```

You will be prompted to input some key information to define your new study, including: 
 - **`your_study_name`** - can be any name but no space.
 - **`tasks_in_order`** - can be any task names splitted by '/' in order according to your design. If a task name is already existed in [demos](demos.md), then corresponding templates will be used for this task; if not, AIOM will initialize a simple template (categorization task) as base code for you to customize your task. For the first-time test, I encourage you to input _categorization/your_customized_name_ to test the multi-task management, established demo and task custimization with AIOM in one run, without the need to build external endpoints serving your stimuli.
 - **`participants_entrance`** - for now, just using prolific (automatically get participant_id from url) or not (participants input id manually). 
```bash
cd your_study_name  # set your study as CWD
npm install  # build dependencies
```

A typical study built by AIOM will be:

```
your_study_name/                        # Generated by 'npx aiom create'
├── .env                                # Study-level configuration (backend)
├── app.js                              # Starting script
├── package.json                        # Dependencies
├── .gitignore                     
├── custom_text/                        # Customized text in study process
│   ├── index.html                      # Entrance
│   ├── consent.html                    # consent form
│   ├── pinfo.html                      # Information for participants
│   ├── introduction.html               # Overall introduction of the study
│   ├── early_stop.js                   # Stop the study half-way through under some condition (e.g., attention check failure)
│   ├── debrief.js                      # Debrief after the entire study
│   └── error.js                        # Tech issue occurs
└── experiments/                        # Tasks defined in .env for this study
    ├── categorization/                 # Task 1
    │   ├── controller.js               # Task-level configuration and functions (backend)
    │   ├── custom_text/                   
    │   │   └── instruction.html        # Instruction for task 1
    │   ├── public/                     # Web assets (frontend)
    │   │   ├── experiment.ejs          # Interface
    │   │   └── static/                 
    │   │       ├── experiment.js       # Interactive logics for task 1
    │   │       └── experiment.css      # Style of the interface
    │   ├── stimuli/                    # (optional) Stimuli used in the task
    │   ├── utils/                      # (optional) Customized modules
    │   └── README.txt                  # Task 1 documentation
    └── your_customized_name/           # Task 2
        ├── controller.js               # Task-level configuration and functions (backend)
        ├── custom_text/                   
        │   └── instruction.html           
        ├── public/                       
        │   ├── experiment.ejs            
        │   └── static/                   
        │       ├── experiment.js         
        │       └── experiment.css       
        ├── stimuli/                     
        ├── utils/                       
        └── README.txt                   
```

Key Files/Directories for you to customize

- **`.env`** - Defining key configurations of the study (e.g., participant recruitment, bonus, task sequence)
- **`experiments/`** - Each subdirectory represents a task in your experiment sequence
- **`experiments/your_task/controller.js`** - Backend of your task, defining key parameters of your task
- **`experiments/your_task/public/`** - Frontend of your task, defining interactions of your task

Setup a postgresql database for local test with [Docker](https://docs.docker.com/get-started/get-docker/) (highly recommended)
After installing and starting the docker, in your CLI (terminal or Windows powershell)
```bash
docker -v  # check if docker runs correctly
docker pull postgres:17.6-alpine  # get a psql image from docker hub, you can also choose another version of psql

# Start PostgreSQL container with AIOM configuration
docker run -d \
  --name aiom-postgres \
  -p 5432:5432 \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=aiom \
  -e POSTGRES_DB=aiom \
  postgres:17.6-alpine
# Verify the container is running
docker ps
```

Your PostgreSQL database is now running and accessible at (need to be aligned with .env):
- **Host**: localhost
- **Port**: 5432
- **Database**: aiom
- **Username**: postgres
- **Password**: aiom
```bash
# some useful command for docker

docker exec -it aiom-postgres psql -U postgres -d aiom -c "DROP SCHEMA public CASCADE; CREATE SCHEMA public;"  # Delete all data from the database
docker stop aiom-postgres  # Stop the database
docker start aiom-postgres  # Start the database (after stopping)
docker exec -it aiom-postgres psql -U postgres -d aiom  # Connect to PostgreSQL CLI
docker logs aiom-postgres  # View database logs
docker rm -f aiom-postgres  # Remove the container (when done testing)
```

After all, give it a go
```bash
npx aiom run
```

You will see 
```
🌐 Test your task: http://localhost:3000
🔎 View task data: http://localhost:3000/admin/db
```

**Explore it and Enjoy!**

## 🔧 Core Features

### Experiment Design
- **Timeline Builder**: Create complex experimental sequences
- **Stimulus Management**: Handle images, videos, audio, and interactive content
- **Response Collection**: Keyboard, mouse, touch, and custom input methods
- **Randomization**: Built-in counterbalancing and randomization tools

### Deployment & Hosting
- **Multi-platform Support**: Deploy to Heroku, AWS, Netlify, or your own servers
- **SSL & Security**: Automatic HTTPS setup and data encryption
- **CDN Integration**: Fast content delivery worldwide
- **Database Setup**: Automated database configuration and optimization

### Data & Analytics
- **Real-time Data Collection**: Live experiment monitoring
- **Export Formats**: CSV, JSON, SPSS, R-compatible formats
- **Privacy Compliance**: GDPR and IRB-compliant data handling
- **Backup & Recovery**: Automated data backups and recovery systems

### Participant Management
- **Recruitment Integration**: Connect with MTurk, Prolific, and custom panels
- **Screening & Consent**: Built-in screening questionnaires and consent forms
- **Compensation**: Automated payment processing and bonus calculations
- **Communication**: Email notifications and participant messaging

## 🎓 Who Uses AIOM?

- **Psychology Researchers**: Cognitive and social psychology experiments
- **Neuroscience Labs**: Behavioral paradigms for neuroimaging studies
- **Market Research**: Consumer behavior and decision-making studies
- **Educational Institutions**: Online learning and assessment tools
- **UX Researchers**: User interface and experience testing

## 🤝 Community & Support

- [GitHub Repository](https://github.com/HaijiangYan/AIOM)
- [NPM Package](https://www.npmjs.com/package/aiom)
- [Report Issues](https://github.com/HaijiangYan/AIOM/issues)
- [Email Support](mailto:haijiang.r.yan@gmail.com)

## 📄 License

AIOM is open-source software licensed under the MIT License. 